<!-- <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .arrow {
        margin: 1em;
      }

      .arrow::before {
        position: absolute;
        content: "";
        width: 0;
        height: 0;
        border: 0.4em solid transparent;
        border-left-color: gray;
        transform-origin: 0 50%;
        transition: transform 0.25s;
      }

      .arrow.down::before {
        transform: rotate(90deg);
        transition: transform 0.2s;
      }
    </style>
  </head>
  <body>
    <script>
        const text = [];
        const arr = (num) => {
          for (let i = 0; i < num; i++) {
             text[i] = 'example' + (i+1);
          }
          return text;
        }
        let div = document.createElement('div');
        let ul = document.createElement('ul');



        ul.style.cssText = `
                            position: absolute;
                            background : inherit;`;

        div.className = 'arrow';
        ul.className = 'ul';
        document.body.appendChild(div);



        let arrow = document.querySelector(".arrow");
          arrow.addEventListener("click", function (event) {
              event.target.classList.toggle("down")
              const check = document.querySelector('.ul');
              if(check){
                const checkLi = document.querySelectorAll('li');
                for(const i of checkLi)  
                    ul.removeChild(i);
                div.removeChild(ul);
              }
              else{ 
                div.appendChild(ul);
                arr(5).forEach(element => {
                let li_List = document.createElement('li');
                li_List.style.cssText = `list-style-type : none;
                                          margin-left : -20px;`;
                li_List.innerHTML = element;
                ul.appendChild(li_List);
                f = true;
                });    
              }
          }
        );


    </script>
  </body>
</html> 
-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .arrow {
        margin: 0 20px;
      }

      .arrow::before {
        position: absolute;
        content: "";
        width: 0;
        height: 0;
        border: 0.4em solid transparent;
        border-left-color: white;
        transform-origin: 0 50%;
        transition: transform 0.25s;
      }

      .arrow.down::before {
        transform: rotate(90deg);
        transition: transform 0.2s;
      }
    </style>
    <script>
        function myFunction(){
            //30 days text (h2) css decoration
            document.getElementById('30Days').style.cssText = `
                                                              text-align: center;
                                                              text-decoration: underline;
                                                              font :16px Arial;
                                                              margin-bottom : 10px`
                                                              
            //selecting li & span elements
            let li = document.querySelectorAll('ul > li');
            let span = document.querySelectorAll('ul > li > span');
            document.querySelector('ul').style.cssText = `display: table;
                                                          margin: 0 auto;`

            //common li decoration                                              
            let liCommonDecoration = `border: .5px;
                                      max-width: 100%; 
                                      margin : 2px;
                                      list-style-type: none;
                                      padding : 13px 200px 13px 40px;
                                      font : 12px Arial, sans-serif`
            let arrowInject = document.querySelectorAll("ul > li > span > span");
            //looping through each element of li, check span id if equal required criteria
            for(let i = 0 ; i < li.length; i++){
              if(span[i] == done)
                li[i].style.cssText = `background-color : #43a543;
                                      ${liCommonDecoration}`//green
              else if(span[i] == Ongoing)  
                li[i].style.cssText = `background-color : #eded10;
                                      ${liCommonDecoration}`//yellow
              else 
                li[i].style.cssText = `background-color : #e95600;
                                      ${liCommonDecoration}` //kinda red
            }


          //setting interval for 2020 and dateFun for each second, random color  
          setInterval(function intervalFun(){
            //random color for each interval
            let randomColor = "#" + Math.floor(Math.random()*16777215).toString(16);
            let randomBackgroundColor = "#" + Math.floor(Math.random()*16777215).toString(16);

            const h1Title = document.getElementById('first-title'); 
            document.getElementById('2020').style.cssText =
                                     `font :50px Arial, sans-serif;
                                      font-weight: 800;
                                      color : ${randomColor}`;
            h1Title.style.cssText = `text-align: center;
                                     font :bold 19px Arial, sans-serif`
        
            const time = document.getElementById("nowTime");
            time.innerHTML = datefun();
            time.style.cssText = `padding: 5px 2px;
                                  display: table;
                                  margin: 3px auto;
                                  text-align : center;
                                  font :bold 15px bolder Arial, sans-serif;
                                  background-color : ${randomBackgroundColor};`                         
           }, 1000)

          //declaring date function to work with date element
          function datefun(){
            const monthNames = ["January", "February", "March", "April", "May", "June",
                                "July", "August", "September", "October", "November", "December"];
            const now = new Date();
            let year = now.getFullYear();
            let month = now.getMonth();
            let day = now.getDay();
            let hours = now.getHours();
            let minutes = now.getMinutes();
            let seconds = now.getSeconds();
            if(hours < 10)
              hours = '0' + hours;
            if(minutes < 10)
              minutes = '0' + minutes;    

            return monthNames[month] + " " + day + "," + year + " " + hours + ":" + minutes + ":" + seconds;
          }
          const text = [];
          const arr = (num) => {
            for (let i = 0; i < num; i++) {
              text[i] = 'example' + (i+1);
            }
            return text;
          }
          let ul = document.createElement('ul');
          ul.style.cssText = `
                              position: relative;
                              display: table;
                              background : inherit;`;

          ul.className = 'ul';
          arrowInject[0].className = 'arrow';
          let arrow = document.querySelector(".arrow");
            arrow.addEventListener("click", function (event) {
                event.target.classList.toggle("down")
                const check = document.querySelector('.ul');
                if(check){
                  const checkLi = document.querySelectorAll('span > ul > li');
                  console.log(checkLi)
                  for (const i of checkLi) {
                    ul.removeChild(i);                    
                  }
                  arrowInject[0].removeChild(ul);                  
                }
                else{ 
                  arrowInject[0].appendChild(ul);
                  arr(5).forEach(element => {
                  let li_List = document.createElement('li');
                  li_List.style.cssText = `list-style-type : none;
                                            margin-left : 100px;`;
                  li_List.innerHTML = element;
                  ul.appendChild(li_List);
                  f = true;
                  });    
                }
            });
            const challenge = document.querySelectorAll('.challenge');
            challenge.forEach(element => {element.style.cssText = `position : inherit; float: right; margin-right:0`});

    }
    </script>
  </head>
  <body onload="myFunction()">
    <h1 class="title" id="first-title">Asabeneh Yetayeh challenges in <span id="2020">2020<span></h1>
    <h2 id="30Days" >30DaysOfJavaScript Challenge</h2>
    <span id="nowTime"></span>
    <p></p>
    <ul>
      <li><span id="done">30DaysOfJavaScript<span></span></span><span class="challenge">Challenge Done</span></li>  
      <li><span id="Ongoing">30DaysOfJavaScript <span></span><span class="challenge" >Challenge Ongoing</span></span></li>
      <li><span id="Coming">30DaysOfReact <span></span><span class="challenge" >Challenge Coming</span></span></li>
      <li><span id="Coming">30DaysOfFullStack <span></span><span class="challenge"> Challenge Coming</span></span></li>
      <li><span id="Coming">30DaysOfDataAnalysis <span></span><span class="challenge" >Challenge Coming</span></span></li>
      <li><span id="Coming">30DaysOfReactNative <span></span><span class="challenge" >Challenge Coming</span></span></li>
      <li><span id="Coming">30DaysOfMachineLearning <span></span><span class="challenge">Challenge Coming</span></span></li>
  </ul>

  </body>
</html>
